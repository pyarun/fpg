<div class="container-fluid" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"
     xmlns="http://www.w3.org/1999/html">
  <div class="row">

    <!-- Sidebar -->
<br>
<div class="col-sm-3 col-md-2 sidebar">
      <ul class="nav nav-sidebar">
        <li class="active">
            <a ui-sref="profile">Profile</a></li>
      </ul>
    </div>

    <!-- Profile -->

    <div class="col-sm-9 col-md-10">
      <div class="panel panel-default">
          <div class="panel-heading"><h4><strong>My Profile</strong></h4></div>
           <div class="panel-body">
            <div class="row">

            <div class="col-xs-12 col-sm-9 col-md-9 " ng-show="!currentUser.edit">

                <dl class="dl-horizontal">

                    <dt>
                        <span class="glyphicon glyphicon-user">
                        </span>

                      Name:
                    </dt>
                    <dd class="text-capitalize">{{ currentUser.first_name }} {{ currentUser.last_name }}</dd>

                <br>

                <span ng-if="currentUser.profile"><strong><dt>
                    <span class="glyphicon glyphicon-home">
                    </span>
                    Address:

                </dt></strong>

                <dd>
                {{ currentUser.profile.address_detail.postal_code ? currentUser.profile.address_detail.postal_code + ',' : ''}}
                {{ currentUser.profile.address_detail.locality ? currentUser.profile.address_detail.locality + ',' : ''}}
                </dd>

                <dd>
                    {{ currentUser.profile.address.route ? currentUser.profile.address.route + ',' : '' }}
                    {{ currentUser.profile.address.raw ? currentUser.profile.address.raw + ',': ''}}
                </dd>

                <dd>{{ currentUser.profile.address_detail.state ? currentUser.profile.address_detail.state + ',' : ''}}
                {{ currentUser.profile.address_detail.country }}
                </dd>

              </span>


              <span ng-if="!currentUser.profile"><strong><dt>
                    <span class="glyphicon glyphicon-home">
                    </span>
                    Address:

                </dt></strong>

                <dd>Not Available</dd>

              </span>

               <br>


              <span><strong><dt>
                    <span class="glyphicon glyphicon-envelope">
                    </span>

                    Email Id:

                </dt></strong>

                <dd>{{ currentUser.email }}</dd>

              </span>


              <br>
              <span ng-if="currentUser.profile.contact_number"><strong><dt>
                    <span class="glyphicon glyphicon-phone-alt">
                    </span>
                    Contact:

                </dt></strong>

                <dd>{{ currentUser.profile.contact_number }}</dd>

              </span>

              <span ng-if="!currentUser.profile.contact_number"><strong><dt>
                    <span class="glyphicon glyphicon-phone-alt">
                    </span>
                    Contact:

                </dt></strong>

                <dd>Not Available</dd>

              </span>
                <br>
              <dt>
                <button class="btn btn-primary btn-sm " ng-click="currentUser.edit=true">
                    Edit </button></dt>


            </dl>
            </div>

            <!-- Edit mode -->

            <div ng-show="currentUser.edit">
              <form novalidate="" name="editForm">
                <div class="col-md-12">
                  <div class="col-md-4">
                  <div class="form-group" ng-class="{'has-error':editForm.first_name.$error.required && (!editForm.first_name.$pristine || editForm.showFormErrors)}">
                    <label for="firstname">First Name</label>
                    <input type="text" name="first_name" class="form-control" ng-model="currentUser.first_name"
                           placeholder="First Name" required>
                    <p ng-show="editForm.first_name.$error.required"
                               class="text-danger small">
                                This field is required.
                    </p>

                  </div>

                </div>
                 <div class="col-md-4">
                  <div class="form-group" ng-class="{'has-error':editForm.last_name.$error.required && (!editForm.last_name.$pristine || editForm.showFormErrors)}">
                    <label for="lastname">Last Name</label>
                    <input type="text" name="last_name" class="form-control" ng-model="currentUser.last_name"
                           placeholder="Last Name" required>

                   <p ng-show="editForm.last_name.$error.required"
                               class="text-danger small">
                                This field is required.
                    </p>

                  </div>
                 </div>

                  <div class="col-md-4" >
                  <div class="form-group" ng-class="{'has-error':editForm.email.$error.required && (!editForm.email.$pristine || editForm.showFormErrors)}">
                    <label for="contact">Email</label>
                    <input type="text" name="email" class="form-control" ng-model="currentUser.email"
                           placeholder="Email id" required>

                    <p ng-show="editForm.email.$error.required"
                               class="text-danger small">
                                This field is required.
                    </p>

                  </div>
                 </div>

                </div>
                 <div class="col-md-12">

                  <div class="col-md-4">
                  <div class="form-group" ng-class="{'has-error':editForm.contact_number.$error.required && (!editForm.contact_number.$pristine || editForm.showFormErrors)}">
                    <label for="contact">Contact Number</label>
                    <input type="text" name="contact" class="form-control" ng-model="currentUser.profile.contact_number"
                           placeholder="Contact Number" required>
                  </div>
                  </div>



                <div class="form-group col-md-4" ng-class="{'has-error':editForm.country.$error.required && (!editForm.country.$pristine || editForm.showFormErrors)}">
                      <label for="country">Country</label>
                      <input type="text" name="country" class="form-control" ng-model="currentUser.profile.address_detail.country"
                             placeholder="Country" required>
                   <p ng-show="editForm.country.$error.required" class="text-danger small">
                                This field is required.
                   </p>

                </div>

                    <div class="form-group col-md-4" ng-class="{'has-error':editForm.state.$error.required && (!editForm.state.$pristine || editForm.showFormErrors)}">
                      <label for="state">State</label>
                      <input type="text" name="state" class="form-control" ng-model="currentUser.profile.address_detail.state"
                             placeholder="State" required>
                   <p ng-show="editForm.state.$error.required" class="text-danger small">
                                This field is required.
                    </p>
                   </div>
                </div>
                  <div class="col-md-12">
                  <div class="form-group col-md-4" ng-class="{'has-error':editForm.raw.$error.required && (!editForm.raw.$pristine || editForm.showFormErrors)}">
                      <label for="raw">Raw</label>
                      <input type="text" name="raw" class="form-control" ng-model="currentUser.profile.address.raw"
                             placeholder="raw" required>
                   <p ng-show="editForm.raw.$error.required" class="text-danger small">
                                This field is required.
                    </p>


                  </div>

                    <div class="form-group col-md-4" >
                      <label for="locality">locality</label>
                      <input type="text" name="locality" class="form-control" ng-model="currentUser.profile.address_detail.locality"
                             placeholder="locality" >
                    </div>


                 <div class="col-md-4">
                     <div class="form-group" ng-class="{'has-error':editForm.lane1.$error.required && (!editForm.lane1.$pristine || editForm.showFormErrors)}">
                        <label for="route">Route</label>
                        <input type="text" name="route" class="form-control" ng-model="currentUser.profile.address_details.route"
                               placeholder="route">

                     </div>
                 </div>
                 </div>

                 <div class="col-md-12">
                 <div class="col-md-4">
                 <div class="form-group">
                    <label for="postal_code">Postal code</label>
                    <input type="text" name="line2" class="form-control" ng-model="currentUser.profile.address_detail.postal_code"
                           placeholder="Postal code">
                 </div>
                 </div>
                  </div>
                  <div class="col-lg-12">

                    <button class="btn btn-primary pull-right" ng-click="save(currentUser,editForm)">Save</button>
                  </div>

                  </form>
            </div>


             <div class="col-xs-12 col-sm-3 col-md-3 text-center">
                <figure>
                  <img src="{{ currentUser.profile_pic }}" alt="" class="img-circle img-responsive">
                </figure>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>